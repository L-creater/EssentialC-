<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        ffmepg常用命令 - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>

    









<meta name="generator" content="Hexo 6.3.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>木偶人</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>收藏</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%E7%9A%84%E5%B8%AE%E5%8A%A9"><span class="toc-text">帮助命令的帮助</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%94%AF%E6%8C%81%E7%9A%84formats-decoders"><span class="toc-text">查看支持的formats&#x2F;decoders</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%85%B7%E4%BD%93%E6%94%AF%E6%8C%81%E6%9F%90%E4%B8%80%E7%A7%8D%E6%A0%BC%E5%BC%8F%EF%BC%8C%E7%B1%BB%E4%BC%BC%E8%BF%99%E6%A0%B7"><span class="toc-text">查看具体支持某一种格式，类似这样</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FFPlay"><span class="toc-text">FFPlay</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-text">命令格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%91%BD%E4%BB%A4"><span class="toc-text">主要命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E9%80%89%E9%A1%B9%E6%9C%89"><span class="toc-text">主要选项有</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4"><span class="toc-text">高级命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%92%AD%E6%94%BE%E6%8E%A7%E5%88%B6"><span class="toc-text">播放控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BE%E4%B8%AA%F0%9F%8C%B0%EF%BC%9F"><span class="toc-text">举个🌰？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%92%AD%E6%94%BE%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6"><span class="toc-text">播放本地文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%92%AD%E6%94%BE%E7%BD%91%E7%BB%9C%E6%B5%81"><span class="toc-text">播放网络流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%86%E9%A2%91%E6%97%8B%E8%BD%AC%E6%92%AD%E6%94%BE"><span class="toc-text">视频旋转播放</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%86%E9%A2%91%E5%8F%8D%E8%BD%AC%E6%92%AD%E6%94%BE"><span class="toc-text">视频反转播放</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%80%9F%E6%92%AD%E6%94%BE"><span class="toc-text">变速播放</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ffmpeg"><span class="toc-text">ffmpeg</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0"><span class="toc-text">常用参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BE%E4%B8%AA%F0%9F%8C%B0%EF%BC%9F-1"><span class="toc-text">举个🌰？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%A6%BB%E8%A7%86%E9%A2%91%E9%9F%B3%E9%A2%91%E6%B5%81"><span class="toc-text">分离视频音频流</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        ffmepg常用命令
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2024-01-17 21:06:37</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#FFmpeg" title="FFmpeg">FFmpeg</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="帮助命令的帮助"><a href="#帮助命令的帮助" class="headerlink" title="帮助命令的帮助"></a>帮助命令的帮助</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ffmpeg <span class="token parameter variable">-h</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">usage<span class="token operator">:</span> ffmpeg <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>infile options<span class="token punctuation">]</span> <span class="token operator">-</span>i infile<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">&#123;</span><span class="token punctuation">[</span>outfile options<span class="token punctuation">]</span> outfile<span class="token punctuation">&#125;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

简单来讲就是

ffmpeg <span class="token punctuation">[</span>一些选项<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>输入文件的选项<span class="token punctuation">]</span> <span class="token operator">-</span>i 输出文件的路径<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token punctuation">[</span>输出文件的选项<span class="token punctuation">]</span> 输出文件路径<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="查看支持的formats-decoders"><a href="#查看支持的formats-decoders" class="headerlink" title="查看支持的formats&#x2F;decoders"></a>查看支持的formats&#x2F;decoders</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">//支持的封装格式<span class="token punctuation">(</span>合并<span class="token operator">&amp;&amp;</span>分离<span class="token punctuation">)</span>
ffmpeg <span class="token parameter variable">-formats</span> 
//合并
ffmpeg <span class="token parameter variable">-muxers</span>
//分离
ffmpeg <span class="token parameter variable">-demuxers</span>

//支持的过滤器
ffmpeg <span class="token parameter variable">-filters</span>

//支持的编解码器
ffmepg <span class="token parameter variable">-codecs</span>
//支持的解码器
ffmpeg <span class="token parameter variable">-decoders</span>
//支持的编码器
ffmpeg <span class="token parameter variable">-encoders</span>

//支持的硬编解列表
ffmpeg <span class="token parameter variable">-hwaccels</span>

//位流格式
ffmpeg <span class="token parameter variable">-bsfs</span>

//像素格式
ffmpeg <span class="token parameter variable">-pix_fmts</span>

//采样格式
ffmpeg <span class="token parameter variable">-sample_fmts</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="查看具体支持某一种格式，类似这样"><a href="#查看具体支持某一种格式，类似这样" class="headerlink" title="查看具体支持某一种格式，类似这样"></a>查看具体支持某一种格式，类似这样</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ffmpeg <span class="token parameter variable">-h</span> <span class="token assign-left variable">muxer</span><span class="token operator">=</span>flv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果不支持 就是unknown了<br><img src="/../../images/FFmpeg/ffmpeg_unknown.png" alt="Alt text"></p>
<p>其他的还有</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ffmpeg <span class="token parameter variable">-h</span> <span class="token assign-left variable">filter</span><span class="token operator">=</span>atempo

ffmpeg <span class="token parameter variable">-h</span> <span class="token assign-left variable">encoder</span><span class="token operator">=</span>libx264<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="FFPlay"><a href="#FFPlay" class="headerlink" title="FFPlay"></a>FFPlay</h2><h3 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h3><p>ffplay 是一个播放器 他的命令格式为： <code>ffplay [options] [input_url]</code></p>
<h3 id="主要命令"><a href="#主要命令" class="headerlink" title="主要命令"></a>主要命令</h3><h3 id="主要选项有"><a href="#主要选项有" class="headerlink" title="主要选项有"></a>主要选项有</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">选项 说明
<span class="token parameter variable">-x</span> width 强制显示宽带。
<span class="token parameter variable">-y</span> height 强制显示高度。
<span class="token parameter variable">-s</span> size 帧尺寸 设置显示帧存储<span class="token punctuation">(</span>WxH格式<span class="token punctuation">)</span>，仅适用于类似原始YUV等没有包含帧大小<span class="token punctuation">(</span>WxH<span class="token punctuation">)</span>的视频。该参数已经被废弃，请尝试用-video_size代替
<span class="token parameter variable">-fs</span> 以全屏模式启动。
<span class="token parameter variable">-an</span> 禁用音频（不播放声音）
<span class="token parameter variable">-vn</span> 禁用视频（不播放视频）
<span class="token parameter variable">-sn</span> 禁用字幕（不显示字幕）
<span class="token parameter variable">-ss</span> pos 根据设置的秒进行定位拖动，注意时间单位：比如<span class="token string">'55'</span> <span class="token number">55</span> seconds, <span class="token string">'12:03:45'</span> ,12 hours, 03 minutes and <span class="token number">45</span> seconds, <span class="token string">'23.189'</span> <span class="token number">23.189</span> second
<span class="token parameter variable">-t</span> duration 设置播放视频/音频长度，时间单位如 -ss选项
<span class="token parameter variable">-bytes</span> 按字节进行定位拖动。
<span class="token parameter variable">-seek_interval</span> interval 自定义左/右键定位拖动间隔（以秒为单位），默认值为10秒
<span class="token parameter variable">-nodisp</span> 关闭图形化显示窗口，视频将不显示
<span class="token parameter variable">-noborder</span> 无边框窗口
<span class="token parameter variable">-volume</span> vol 设置起始音量。音量范围<span class="token punctuation">[</span><span class="token number">0</span> ~100<span class="token punctuation">]</span>
<span class="token parameter variable">-f</span> <span class="token function">fmt</span> 强制使用设置的格式进行解析。比如-f s16le
<span class="token parameter variable">-window_title</span> title 设置窗口标题（默认为输入文件名）
<span class="token parameter variable">-loop</span> number 设置播放循环次数
<span class="token parameter variable">-showmode</span> mode 设置显示模式，可用的模式值：0 显示视频，1 显示音频波形，2 显示音频频谱。缺省为0，如果视频不存在则自动选择2
<span class="token parameter variable">-vf</span> filtergraph 设置视频滤镜
<span class="token parameter variable">-af</span> filtergraph 设置音频滤镜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="高级命令"><a href="#高级命令" class="headerlink" title="高级命令"></a>高级命令</h3><p><strong>高级选项</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token parameter variable">-pix_fmt</span> <span class="token function">format</span> 格式设置像素格式。此选项已被弃用，有利于私有选项，try <span class="token parameter variable">-pixel_format</span>
<span class="token parameter variable">-stats</span> 打印多个回放统计信息，包括显示流持续时间，编解码器参数，流中的当前位置，以及音频/视频同步差值。默认情况下处于启用状态，要显式禁用它则需要指定-nostats。
<span class="token parameter variable">-fast</span> 非标准化规范的多媒体兼容优化
<span class="token parameter variable">-genpts</span> 生成pts。
<span class="token parameter variable">-sync</span> <span class="token builtin class-name">type</span> 同步类型 将主时钟设置为audio（type<span class="token operator">=</span>audio），video（type<span class="token operator">=</span>video）或external（type<span class="token operator">=</span>ext），默认是音频为主时钟。
<span class="token parameter variable">-ast</span> audio_stream_specifier 指定音频流索引，比如-ast <span class="token number">3</span>，播放流索引为3的音频流
<span class="token parameter variable">-vst</span> video_stream_specifier 指定视频流索引，比如-vst <span class="token number">4</span>，播放流索引为4的视频流
<span class="token parameter variable">-sst</span> subtitle_stream_specifier 指定字幕流索引，比如-sst <span class="token number">5</span>，播放流索引为5的字幕流
<span class="token parameter variable">-autoexit</span> 视频播放完毕后退出。
<span class="token parameter variable">-exitonkeydown</span> 键盘按下任何键退出播放
<span class="token parameter variable">-exitonmousedown</span> 鼠标按下任何键退出播放
<span class="token parameter variable">-codec:media_specifier</span> codec_name 强制使用设置的多媒体解码器，media_specifier可用值为a（音频）， v（视频）和s字幕。比如-codec:v h265 强制视频采用h265解码
<span class="token parameter variable">-acodec</span> codec_name 强制使用设置的音频解码器进行音频解码
<span class="token parameter variable">-vcodec</span> codec_name 强制使用设置的视频解码器进行视频解码
<span class="token parameter variable">-scodec</span> codec_name 强制使用设置的字幕解码器进行字幕解码
<span class="token parameter variable">-autorotate</span> 根据文件元数据自动旋转视频。默认情况下启用，若需禁用则使用-noautorotate
<span class="token parameter variable">-framedrop</span> 如果视频不同步则丢弃视频帧。当主时钟非视频时钟时默认开启。若需禁用则使用 <span class="token parameter variable">-noframedrop</span>
<span class="token parameter variable">-infbuf</span> 不限制输入缓冲区大小。尽可能快地从输入中读取尽可能多的数据。播放实时流时默认启用，如果未及时读取数据，则可能会丢弃数据。此选项将不限制缓冲区的大小。若需禁用则使用-noinfbuf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="播放控制"><a href="#播放控制" class="headerlink" title="播放控制"></a>播放控制</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">选项 说明
q, ESC 退出播放
f 全屏切换
p, SPC 暂停
m 静音切换
<span class="token number">9</span>, <span class="token number">0</span> <span class="token number">9</span>减少音量，0增加音量
/, * /减少音量，*增加音量
a 循环切换音频流
<span class="token function">v</span> 循环切换视频流
t 循环切换字幕流
c 循环切换节目
w 循环切换过滤器或显示模式
s 逐帧播放
left/right 向后/向前拖动10秒
down/up 向后/向前拖动1分钟
page down/page up 拖动上一个/下一个。或者如果没有章节向后/向前拖动10分钟。
鼠标右键单击 拖动与显示宽度对应百分比的文件进行播放
鼠标左键双击 全屏切换
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="举个🌰？"><a href="#举个🌰？" class="headerlink" title="举个🌰？"></a>举个🌰？</h3><h4 id="播放本地文件"><a href="#播放本地文件" class="headerlink" title="播放本地文件"></a>播放本地文件</h4><p>最直接：<code>ffplay test_video.mp4</code></p>
<p><code>ffplay -window_title &quot;mirs ffplay&quot; -ss 2 -t 10 -autoexit test.mp4</code></p>
<h4 id="播放网络流"><a href="#播放网络流" class="headerlink" title="播放网络流"></a>播放网络流</h4><p><code>ffplay rtmp://live.hkstv.hk.lxdns.com/live/hks1</code></p>
<h4 id="视频旋转播放"><a href="#视频旋转播放" class="headerlink" title="视频旋转播放"></a>视频旋转播放</h4><p><code>ffplay -i test_video.mp4 -vf transpose=1</code></p>
<h4 id="视频反转播放"><a href="#视频反转播放" class="headerlink" title="视频反转播放"></a>视频反转播放</h4><p>(镜面)<code>ffplay test_video.mp4 -vf hflip</code><br>(上下) <code>ffplay test_video.mp4 -vf vflip</code></p>
<p>ps：视频旋转和反转可以组合食用 （听说巧克力和牛奶更配哟）</p>
<h4 id="变速播放"><a href="#变速播放" class="headerlink" title="变速播放"></a>变速播放</h4><ul>
<li>音频变速视频不变速 （1.5倍食用更佳）<ul>
<li><code>ffplay -i test_video.mp4 -af atempo=1.5</code></li>
</ul>
</li>
<li>视频变速音频不变速<ul>
<li><code>ffplay -i test_video.mp4 -vf setpts=PTS/1.5</code></li>
</ul>
</li>
<li>音视频一起变速(3倍！！！)<ul>
<li><code>ffplay -i test_video.mp4 -vf setpts=PTS/3 -af atempo=3</code></li>
</ul>
</li>
</ul>
<h2 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h2><p>终于到ffmepg了，我们首先来吧他常用的参数分个类</p>
<h3 id="常用参数"><a href="#常用参数" class="headerlink" title="常用参数"></a>常用参数</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">主要参数：
<span class="token parameter variable">-i</span> 设定输入流
<span class="token parameter variable">-f</span> 设定输出格式
<span class="token parameter variable">-ss</span> 开始时间
<span class="token parameter variable">-t</span>   时间长度

视频参数：
<span class="token parameter variable">-vframes</span> 设置要输出的视频帧数
<span class="token parameter variable">-b</span> 设定视频码率，默认为200Kbit/s
<span class="token parameter variable">-b:v</span> 视频码率
<span class="token parameter variable">-r</span> 设定帧速率，默认为25
<span class="token parameter variable">-s</span> 设定画面的宽与高
<span class="token parameter variable">-aspect</span> 设定画面的比例
<span class="token parameter variable">-vn</span> 不处理视频
<span class="token parameter variable">-vcodec</span> 设定视频编解码器，未设定时则使用与输入流相同的编解码器
<span class="token parameter variable">-vf</span> 视频滤波器

音频参数：
<span class="token parameter variable">-aframes</span> 设置要输出的音频帧数
<span class="token parameter variable">-b:a</span> 音频码率
<span class="token parameter variable">-ar</span> 设定采样率
<span class="token parameter variable">-ac</span> 设定声音的Channel数
<span class="token parameter variable">-acodec</span> 设定声音编解码器，未设定时则使用与输入流相同的编解码器
<span class="token parameter variable">-an</span> 不处理音频
<span class="token parameter variable">-af</span> 音频滤波器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="举个🌰？-1"><a href="#举个🌰？-1" class="headerlink" title="举个🌰？"></a>举个🌰？</h3><h4 id="分离视频音频流"><a href="#分离视频音频流" class="headerlink" title="分离视频音频流"></a>分离视频音频流</h4><ul>
<li><p>分离音频</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -acodec copy -vn audio.aac</code></li>
<li>然后…</li>
</ul>
</li>
<li><p>分离视频</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -vcodec copy -an video.mp4</code></li>
</ul>
</li>
<li><p>提取H264</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -vcodec copy -an test_copy.264</code></li>
</ul>
</li>
<li><p>提取AAC</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -acodec copy -vn test.aac</code></li>
</ul>
</li>
<li><p>改变编码格式</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -vcodec copy -acodec copy test_copy.ts</code></li>
</ul>
</li>
<li><p>修改帧率</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -r 15 output.mp4</code></li>
</ul>
</li>
<li><p>修改码率</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -b:v 1.5M output2.mp4</code></li>
</ul>
</li>
<li><p>修改音频码率</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -b:a 192k output2.mp4</code></li>
</ul>
</li>
<li><p>修改音视频码率</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -b:v 1.5M -b:a 192k output2.mp4</code></li>
</ul>
</li>
<li><p>修改分辨率</p>
<ul>
<li><code>ffmpeg -i test_video.mp4 -s 640x480 output.mp4</code></li>
</ul>
</li>
<li><p>提取PCM</p>
<ul>
<li><code>ffmpeg -i test.mp4 -f s16le audio.pcm</code></li>
</ul>
</li>
<li><p>提取YUV</p>
<ul>
<li>提取3秒 分辨率和原来的一致</li>
<li><code>ffmpeg -i test_video.mp4 -t 3 -pix_fmt yuv420p yuv420p_orig.yuv</code></li>
<li>提取3秒 指定分辨率</li>
<li><code>ffmpeg -i test_video.mp4 -t 3 -pix_fmt yuv420p -s 320x240 yuv420p_320x240.yuv</code></li>
</ul>
</li>
<li><p>提取RGB</p>
<ul>
<li>提取3秒数据，分辨率转为320x240</li>
<li><code>ffmpeg -i test_video.mp4 -t 3 -pix_fmt rgb24 -s 320x240 rgb24_320x240.rgb</code></li>
</ul>
</li>
<li><p>RGB和YUV转换</p>
<ul>
<li><code>ffmpeg -s 968x544 -pix_fmt yuv420p -i yuv420p_orig.yuv -pix_fmt rgb24 orig.rgb</code></li>
</ul>
</li>
</ul>
<p>原文链接<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903815918026760">https://juejin.cn/post/6844903815918026760</a></p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/lyt-s">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href=""></a></span>
        <span>/</span>
        
        <span><a href="https://lyt-s.github.io/">木偶人</a></span>
        <span>/</span>
        
        <span><a href="#">It helps SEO</a></span>
        <span>/</span>
        
        <span><a href=""></a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
    data-repo="aircloud/hexo-aircloud-blog"
    data-repo-id="MDEwOlJlcG9zaXRvcnkxMjkwNDgyNjg="
    data-category="Announcements"
    data-category-id="DIC_kwDOB7EezM4COhKJ"
    data-mapping="title"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
</script>




</html>
